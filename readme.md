Brother Jacob, the revival!

Retrofit of a Brother TC-215 VMC.

LinuxCNC / Machine Kit 1kHz Mesa 7i77

X, Y, Z: Analog Servo Amps 0-10V

BT30 Spindle: 0-10V VFD


IO mapping:
============================

 limit switches


| Con No|  Descr                            | 7177 pin                    | Con No2|
|------:|-----------------------------------|-----------------------------|-----------|
| #224 |  Saw is down                       |                             | 
| #225 |  Saw is up                         |                             | 
| #226 |                                    |                             | 
| #227 |                                    |                             | 
| #228 |                                    |                             | 
| #229 |                                    |                             | 
| #230 |                                    |                             | 
| #231 |                                    |                             | 
| #232 |                                    |                             | 
| #233 |                                    |                             | 
| #234 |                                    |                             | 
| #235 |                                    |                             | 
| #236 | Draw Bar is down                   |00                           | 
| #237 | Draw Bar is up                     |01                           | 
| #238 |                                    |                             | 
| #239 |  Manual Tool Change BTN            |02                           | 
| #240 |  TC Pocket#1 is up                 |07  (net tc1is-up)            | 
| #241 |  TC Pocket#2 is up                 |08                            | 
| #242 |  TC Pocket#3 is up                 |09                            | 
| #243 |  TC Pocket#4 is up                 |10                            | 
| #244 |  TC Pocket#5 is up                 |11                            | 
| #245 |  TC Pocket#6 is up                 |12                           | 
| #246 |  TC Cover closed                   |03                           | 
| #247 |  TC Cover open                     |04                           | 
| #247 |  TC Cover close BTN                |05                           | 
| #247 |  TC Cover open BTN                 |06                           | 
|      |                                    |                             | 
|      |                                    |                             | 
|      |                                    |                             | 
|      |                                    |                             | 
|      |                                    |                             | 
| #310 |  pneumatic registration pins left  |                             | 
| #311 |  pneumatic registration pins right |                             | 
| #312 |  ?                                 |                             | 
| #314 |  right lifts                       |                             | 
| #315 |  left lifts                        |                             | 
| #317 |  Drill Aggregate ON                |01                           | 
| #318 |  Saw ON                            |00                           | 
| #319 |  Saw Down (hold, up automatic)     |                             | 
| #320 |  Saw Swivel Lock, high=unlock      |                             | 
| #321 |  Saw Swivel into position Y        |                             | 
| #322 |  Saw Swivel into position X        |                             | 
| #323 |  Horizontal Drills down            |                             | 
| #324 |                                    |                             | 
| #325 |                                    |                             | 
| #326 |                                    |                             | 
| #327 |                                    |                             | 
| #328 |  ISO30 Aggregate Down              |03                           | 6A5 35|
| #329 |  ? |                             | 
| #330 |  ISO30 Draw Bar + Flush Air        |02                           | 6A5 33|
| #331 |  TC All Down                       |06                           | 6A5 32, Relais 27K2|
| #332 |  TC Pocket#1 up (is up: 240)       |07                           | 6A5 13|
| #333 |  TC Pocket#2 up (is up: 241)       |                             | 
| #334 |  TC Pocket#3 up (is up: 242)       |                             | 
| #335 |  TC Pocket#4 up (is up: 243)       |                             | 
| #336 |  TC Pocket#5 up (is up: 244)       |                             | 
| #337 |  TC Pocket#6 up (is up: 245)       |                             | 
| #338 |  TC Cover Down (Open)              |                             | 
| #339 |  TC Cover Up (Close)               |                             | 
| #340 |  ISO30 Dust Hood Down              |04                           | 6A4
| #341 |  ISO30 Dust Hood Up                |05                           | 6A25
|      |                                    |                             | 
| #348 |  drill down 1 (rightmost)          |                             | 
| #349 |  drill 2 (second to right)         |                             | 
| #350 |  drill 3                           |                             | 
| #351 |  drill 4                           |                             | 
| #352 |  drill 5                           |                             | 
| #353 |  drill 6                           |                             | 
| #354 |  drill 7                           |                             | 
| #355 |  drill 8                           |                             | 
| #356 |  drill ?                           |                             | 
| #363 |  drill (frontmost)                 |                             | 
| #364 |  drill (second to left)            |                             | 
| #365 |  drill (forstner,leftmost?)        |             |
|  |                             |                             | 
| #1000 |  ISO30?                           |                             | 
| #1001 |  Limit X                                 |                             | 
| #1002 |  Limit Y                                |                             | 
| #1003 |  Limit Z                                 |                             | 
| #1004 |  ISO30 through spindle air        |                             | 
| #1005 |  ISO30 draw bar release tool      |                             | 

